---
tags: [troubleshooting]
date: 2025-07-04
---
# 100명 이상 대규모 동시접속시, 유니티 클라이언트의 병목 문제

## **1. 환경**
- 커밋 :  
- 버전 :  v0.0.20

## **2. 증상**
깃허브 #13 이슈로
DummyClient로 100개 이상 켰을 시, Client를 켜 접속시 S_PLAYERLIST를 받아오는게 느림 **(약 8초)**


## **3. 원인**

정확한 원인을 측정하고자 다음과 같은 시나리오로 측정해보았음
- 동접 60, 80명에서도 Unity Client를 키면 똑같이 동작하는가?
	- 80명에서 Unity Client를 키면 2개정도까지는 괜찮았지만, 3개부터 쌓이기 시작한다. 무언가 문제가 있는 것 같다.
- 동접 100명에서, Unity말고 DummyClient를 키면 똑같이 동작하는가?
	- 1명 정도 더 키는건 괜찮았고, 10명정도 키니까 같은 속도는 아니더라도 쌓이기 시작했다.

문제의 원인을 찾았다.
클라이언트의 80명, 100명은 그다지 중요하지 않았다.
물론 수가 많아지면 당연히 Job에 쌓이는 것이 당연한데, 이번 경우에는 Unity Client의 자체 문제였다.

- 발생 이유 요약 : Unity의 CPU 점유로 인해 서버 측 가용자원의 부족이 서버의 성능을 저하시켰음.

## **4. 해결**

유니티 클라이언트의 60FPS 고정 및 빌드시 Development와 Autoconnect를 꺼주니
제대로 잘 동작했음

    
## **5. 회고**

- 놓친 이유 : 컴퓨터 사양이 좋은 편이라, 사양적인 이슈는 고려하지 못했음.
- 예방 조치 : CPU, RAM 점유율을 항상 체크하기